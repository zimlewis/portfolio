(()=>{(function(){"use strict";let n=new Set;function u(t){let e=document.querySelector(`[data-tui-dialog-backdrop][data-dialog-instance="${t}"]`),a=document.querySelector(`[data-tui-dialog-content][data-dialog-instance="${t}"]`);!e||!a||(n.add(t),e.removeAttribute("data-tui-dialog-hidden"),a.removeAttribute("data-tui-dialog-hidden"),requestAnimationFrame(()=>{e.setAttribute("data-tui-dialog-open","true"),a.setAttribute("data-tui-dialog-open","true"),document.body.style.overflow="hidden",document.querySelectorAll(`[data-tui-dialog-trigger][data-dialog-instance="${t}"]`).forEach(i=>{i.setAttribute("data-tui-dialog-trigger-open","true")}),setTimeout(()=>{a.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus()},50)}))}function d(t){let e=document.querySelector(`[data-tui-dialog-backdrop][data-dialog-instance="${t}"]`),a=document.querySelector(`[data-tui-dialog-content][data-dialog-instance="${t}"]`);!e||!a||(e.setAttribute("data-tui-dialog-open","false"),a.setAttribute("data-tui-dialog-open","false"),document.querySelectorAll(`[data-tui-dialog-trigger][data-dialog-instance="${t}"]`).forEach(i=>{i.setAttribute("data-tui-dialog-trigger-open","false")}),setTimeout(()=>{e.setAttribute("data-tui-dialog-hidden","true"),a.setAttribute("data-tui-dialog-hidden","true")},300),n.delete(t),n.size===0&&(document.body.style.overflow=""))}function s(t){let e=t.getAttribute("data-dialog-instance");if(e)return e;let a=t.closest("[data-tui-dialog]");return a?a.getAttribute("data-dialog-instance"):null}function r(t){return document.querySelector(`[data-tui-dialog-content][data-dialog-instance="${t}"]`)?.getAttribute("data-tui-dialog-open")==="true"||!1}function l(t){r(t)?d(t):u(t)}document.addEventListener("click",t=>{let e=t.target.closest("[data-tui-dialog-trigger]");if(e&&!e.hasAttribute("disabled")&&!e.classList.contains("opacity-50")){let o=e.getAttribute("data-dialog-instance");if(!o)return;l(o);return}let a=t.target.closest("[data-tui-dialog-close]");if(a){let c=a.getAttribute("data-tui-dialog-close")||s(a);c&&d(c);return}let i=t.target.closest("[data-tui-dialog-backdrop]");if(i){let o=i.getAttribute("data-dialog-instance");if(!o)return;let c=document.querySelector(`[data-tui-dialog][data-dialog-instance="${o}"]`),g=document.querySelector(`[data-tui-dialog-content][data-dialog-instance="${o}"]`);c?.hasAttribute("data-tui-dialog-disable-click-away")||g?.hasAttribute("data-tui-dialog-disable-click-away")||d(o)}}),document.addEventListener("keydown",t=>{if(t.key==="Escape"&&n.size>0){let e=Array.from(n).pop(),a=document.querySelector(`[data-tui-dialog][data-dialog-instance="${e}"]`),i=document.querySelector(`[data-tui-dialog-content][data-dialog-instance="${e}"]`);a?.hasAttribute("data-tui-dialog-disable-esc")||i?.hasAttribute("data-tui-dialog-disable-esc")||d(e)}}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-tui-dialog-content][data-tui-dialog-open="true"]').forEach(t=>{let e=t.getAttribute("data-dialog-instance");e&&(n.add(e),document.body.style.overflow="hidden")})}),window.tui=window.tui||{},window.tui.dialog={open:u,close:d,toggle:l,isOpen:r}})();})();
